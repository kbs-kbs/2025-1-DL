# 2025-1-DLP

## numpy가 폐쇄망 환경에서 쓸 수 있는지 판단
### Python 실행 과정
1. **바이트코드 컴파일**: Python 소스코드(.py)는 실행 전에 바이트코드(.pyc)로 컴파일됩니다. 이 과정은 Python 인터프리터(CPython 등)에 의해 자동으로 수행됩니다. 바이트코드는 기계어가 아닌, Python Virtual Machine(PVM)이 이해할 수 있는 중간 형태입니다.
2. **PVM에서 실행**: 바이트코드는 PVM에서 한 줄씩 해석되고 실행됩니다. 이 단계는 전통적인 인터프리터 방식에 해당합니다.

Python 코드를 EXE 파일로 빌드할 때(예: PyInstaller 사용):

Python 스크립트와 함께 Python 인터프리터 및 필요한 라이브러리들이 패키징됩니다.

생성된 EXE 파일은 독립적으로 실행 가능하지만, 내부적으로는 여전히 Python 인터프리터를 사용하여 코드를 실행합니다. 따라서 완전한 기계어로 변환된 컴파일 언어의 EXE 파일과는 다릅니다.

파이썬으로 빌드한 exe 파일은 같은 기능을 컴파일 언어로 빌드한 exe 파일보다 용량이 크겠네?

결론
Python은 소스코드를 바이트코드로 컴파일하는 과정을 거치므로 "컴파일된다"고 볼 수 있습니다. 하지만 이 과정은 전통적인 컴파일 언어(C, C++ 등)와 다르며, 최종적으로는 인터프리터 방식으로 실행됩니다. EXE 파일로 빌드된 경우에도 내부적으로 인터프리터가 포함되어 있어 완전한 컴파일 언어와는 구분됩니다.

1. Python 실행 환경 포함
Python으로 만든 EXE 파일은 Python 인터프리터와 필요한 라이브러리들을 포함합니다. 이는 Python이 설치되지 않은 환경에서도 프로그램을 실행할 수 있도록 하기 위함입니다. 결과적으로, 실행 파일에 Python 런타임과 관련 파일들이 추가되어 용량이 커집니다.

2. 모듈 및 라이브러리 포함
Python 스크립트에서 사용하는 모든 모듈과 라이브러리가 EXE 파일에 포함됩니다. 심지어 사용하지 않는 모듈도 포함되는 경우가 있어, 불필요한 용량 증가를 초래할 수 있습니다.

3. 컴파일 언어와의 차이
컴파일 언어(C, C++ 등)로 빌드된 EXE 파일은 소스 코드를 기계어로 변환하여 실행 환경에 의존하지 않는 독립적인 형태로 생성됩니다. 따라서 Python처럼 별도의 런타임 환경을 포함하지 않아 크기가 훨씬 작습니다.

최적화 방법
Python EXE 파일의 용량을 줄이기 위해 다음을 고려할 수 있습니다:

PyInstaller 옵션 활용: 불필요한 모듈 제외(--exclude-module) 또는 단일 파일 생성 옵션(--onefile) 사용.

가상환경 사용: 최소한의 모듈만 포함된 가상환경에서 빌드 진행.

Cython 활용: Python 코드를 C 코드로 변환 후 컴파일하여 용량을 줄일 수 있음.

결론적으로, Python으로 빌드된 EXE 파일은 런타임 환경과 라이브러리 포함으로 인해 컴파일 언어보다 용량이 클 가능성이 높습니다.



- **빌드**: 고급 언어를 기계어로 번역해서 실행 파일을 만들어내는 것
### 컴파일 언어의 4단계 빌드 과정
1. 전처리(Preprocessing)
2. 컴파일링(Compiling)
3. 어셈블링(Assembling)
4. 링킹(Linking)



### 확장자별 라이브러리 구분
- **.lib**: Windows의 정적 라이브러리   
- **.dll**: Windows의 동적 라이브러리
### 동적 라이브러리 DLL
DLL을 컴파일하고 나면 Static library와는 다르게 output file이 2개가 생성됩니다.
하나는 \*.lib 파일이고 하나는 \*.dll 파일이다.
여기서 *lib* 파일은 Static library의 *lib* 파일과는 전혀 다릅니다.
Static library의 *lib* 파일은 라이브러리 전체 코드를 포함하는 바이너리이며, DLL의 *lib* 파일은 DLL이 제공하고자 하는 **함수 정보(함수명)**을 가지는 정보 파일입니다.
프로그램 시작할 때 같이 로딩되어 프로그램 종료 할 때 메모리에서 해제되는 방법을 **암시적 링킹(Implicit Linking)**이라 합니다
DLL의 *lib* 파일을 이용하여 링킹하는 것을 **암시적 링킹(implicit linking)**이라고 합니다
프로그램 실행 시 필요시만 외부 DLL 파일에서 함수를 참조합니다
실행 바이너리를 링크 단계에서 실행 바이너리의 \*.obj 파일들과 DLL의 \*.lib 파일을 함께 링크하여 이 정보를 토대로 runtime에 DLL의 함수 코드를 참조하게 되는 것입니다.
즉 \*.lib 파일은 링크시 필요하고, \*.dll 파일은 실행시 필요합니다.
### 정적 라이브러리 LIB
프로그램 빌드 시에 라이브러리가 제공하는 코드를 실행 파일에 넣는 방식의 라이브러리를 의미합니다.
컴파일의 링킹 단계에서 실행 파일에 결합됩니다.
특정 기능의 라이브러리를 static 하게 제작한다는 것은 컴파일의 link 단계에서 라이브러리(*lib* 파일)를 실행 바이너리에 포함시킨다는 말입니다.
즉 라이브러리의 동작 코드가 이를 사용하는 실행 바이너리 속에 포함되기 때문에 별도의 추가 작업없이, 그리고 독립적으로 라이브러리 함수들을 사용할 수 있습니다.
정적 라이브러리를 사용하여 컴파일을 하면 링커가 프로그램이 필요로 하는 부분을 라이브러리에서 찾아 실행파일에 바로 복사합니다.
실행 파일에 다 들어가기 때문에 실행 시 라이브러리가 필요없습니다.
